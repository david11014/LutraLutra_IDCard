<!doctype html>
<html dir="ltr" lang="zh">
<head>
  <meta charset="utf-8">
  <title>LutraLutra ID Card</title>
  <link rel="stylesheet" href="./ptmonoweb/PTM55F_stylesheet.css" type="text/css" charset="utf-8">
  <link rel="stylesheet" href="./ptmonoweb/PTM75F_stylesheet.css" type="text/css" charset="utf-8">
  <style type="text/css">
    canvas {
      border: 1px solid black;
    }

    img {
      border: 1px solid blue;
    }
  </style>
  <script type="text/javascript">
    const BGImage = new Image(1080, 720); // Using optional size for image
    BGImage.onload = function() {  draw(); }
    BGImage.src = './ID_Card_bg1.jpg';

    function draw() {
      if (document.getElementById('ID_card')) {
        var canvas = document.getElementById('ID_card');
        var ctx = canvas.getContext('2d');
        ctx.drawImage(BGImage, 0, 0, 1080, 720);
        ctx.font = 'bold 35pt PTMonoBold';
        ctx.fillText(document.getElementById("Neme_input").value, 590, 225);
        ctx.fillText(document.getElementById("ID_input").value, 660, 375);
        ctx.fillText(document.getElementById("Birth_input").value, 660, 465);
        ctx.fillText(document.getElementById("BloodType_input").value, 590, 565);
      }
    }
  
    function GenerateImg() {
      var canvas = document.getElementById('ID_card');
      var OutputImage = new Image();
      OutputImage.src = canvas.toDataURL();
      var OutputWindow = window.open("");
      OutputWindow.document.write(OutputImage.outerHTML);
    }
  </script>
</head>

<body onload="draw()">
  <p>姓名:<input id="Neme_input" value="露恰露恰" onkeyup="draw()"></input></p>
  <p>兵籍編號:<input id="ID_input" value="L206767888" onkeyup="draw()"></input></p>
  <p>出生日期:<input id="Birth_input" value="???/05/29" onkeyup="draw()"></input></p>
  <p>血型:<input id="BloodType_input" value="S" onkeyup="draw()"></input></p>
  <p><button type="Generate" onclick="GenerateImg()">產生圖片</button></p>
  <canvas id="ID_card" width="1080" height="720"></canvas>
</body>
</html>